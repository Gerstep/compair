<div ng-controller="ClassImportResultsController">
	<h1>Results</h1>
	<p><a href="#/course/{{course.id}}">&laquo; Back to course?</a></p>
	<div ng-show="results.invalids.length">
		<h2>Users without valid data (not added or created)</h2>
		<table class="table table-striped">
			<tr>
				<th ng-repeat="header in invalidHeaders">{{header}}</th>
			</tr>
			<tr ng-repeat="invalid in results.invalids">
				<td>{{invalid.user.username}}</td>
				<td>{{invalid.user.firstname}}</td>
				<td>{{invalid.user.lastname}}</td>
				<td>{{invalid.user.email}}</td>
				<td>{{invalid.message}}</td>
			</tr>
		</table>
	</div>
	<div ng-show="results.success.length">
		<h2>Users added to {{course.name}}</h2>
		<table class="table table-striped">
			<tr>
				<th ng-repeat="header in headers">{{header}}</th>
			</tr>
			<tr ng-repeat="success in results.success">
				<td>{{success.user.username}}</td>
				<td>{{success.user.firstname}}</td>
				<td>{{success.user.lastname}}</td>
				<td>{{success.user.email}}</td>
			</tr>
		</table>
	</div>
	<div ng-show="results.created.length">
		<h2>Users created in the application</h2>
		<p><strong>Note:</strong> Users without a specified password will have their username as a default password.</p>
		<table class="table table-striped">
			<tr>
				<th ng-repeat="header in headers">{{header}}</th>
			</tr>
			<tr ng-repeat="created in results.created">
				<td>{{created.user.username}}</td>
				<td>{{created.user.firstname}}</td>
				<td>{{created.user.lastname}}</td>
				<td>{{created.user.email}}</td>
			</tr>
		</table>
	</div>
	<div ng-show="results.dropped.length">
		<h2>Users dropped from {{course.name}}</h2>
		<table class="table table-striped">
			<tr>
				<th ng-repeat="header in headers">{{header}}</th>
			</tr>
			<tr ng-repeat="dropped in results.dropped">
				<td>{{dropped.user.username}}</td>
				<td>{{dropped.user.firstname}}</td>
				<td>{{dropped.user.lastname}}</td>
				<td>{{dropped.user.email}}</td>
			</tr>
		</table>
	</div>
</div>
