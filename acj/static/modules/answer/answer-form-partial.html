<form class="form" name="answerForm" ng-submit="answerSubmit()" novalidate>
	<fieldset>
		<h2><i class="fa fa-comments"></i> {{question.title}}</h2>
		<div class="question-desc" mathjax="question.post.content"
			ng-bind-html="question.post.content">
		</div>
		
		<!-- Attachment -->
		<p class="question-desc" ng-if="question.post.files.length">
			See question details:
			<span ng-repeat="file in question.post.files">
				<a target="_blank" ng-href="#/course/{{courseId}}/question/{{question.id}}/post/{{question.post.id}}">{{file.alias}} <i class="fa fa-file-pdf-o"></i></a>
			</span>
		</p>
		<hr />
		
		<div>
			<label for="importFile">Attach PDF</label>
			<input type="file" nv-file-select uploader="uploader" id="importFile" ng-disabled="uploader.queue.length || answer.uploadedFile" multiple/>
			<div class="row" ng-repeat="item in uploader.queue">
				<div class="col-md-4"><strong>{{item.file.name}}</strong></div>
				<div class="col-md-1">{{item.file.size/1024/1024|number:2}} MB</div>
				<div class="col-md-2">{{item.progress}}% completed</div>
				<div class="col-md-3" ng-show="uploader.isHTML5">					
					<div class="attach-progress">
						<div class="attach-progressBar" ng-style="{'width': item.progress + '%' }"></div>
					</div>
				</div>
				<div class="col-md-1">
					<a class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
						<i class="fa fa-ban"></i> Cancel
					</a>
				</div>
				<div class="col-md-1">
					<a class="btn btn-danger btn-xs" ng-click="item.remove();resetName();">
						<i class="fa fa-trash-o"></i> Delete
					</a>
			</div>
		</div>
		<br>
		<div ng-if="answer.uploadedFile">
			<div class="row">
				<div class="col-md-4">
					<strong>{{answer.uploadedFile.alias}}</strong>
				</div>
				<div class="col-md-1">
					<a ng-click="deleteFile(answer.uploadedFile.posts_id, answer.uploadedFile.id)" class="btn btn-danger btn-xs">
						<i class="fa fa-trash-o"></i> Delete
					</a>
				</div>
			</div>
			<br>
		</div>
		<div class="form-group">
			<textarea ng-model="answer.post.content" id="answerContent"
				class="form-control" rows="8" ckeditor ng-required="!(uploader.queue.length || uploadedFile)">
			</textarea>
		</div>
	</fieldset>
	<input type="submit" class="btn btn-success btn-lg center-block" value="Save"
		ng-disabled="answerForm.$invalid || sumbmitted || (uploader.queue.length && uploader.progress != 100)" />
</form>
